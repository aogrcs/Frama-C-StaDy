[kernel] Parsing FRAMAC_SHARE/libc/__fc_builtin_for_normalization.i (no preprocessing)
[kernel] Parsing tests/quick_sort/quick_sort.c (with preprocessing)
[stady:generated-pl] generated Prolog precondition:
:- module(test_parameters).
:- import create_input_val/3 from substitution.
:- export dom/4.
:- export create_input_vals/2.
:- export unquantif_preconds/2.
:- export quantif_preconds/2.
:- export strategy/2.
:- export precondition_of/2.

dom(0,0,0,0).
dom('quick_sort', dim('arr'), [], int([0..4294967295])).
dom('quick_sort', cont('arr',_), [], int([-2147483648..2147483647])).
dom('quick_sort', cont('end',_), [], int([-2147483648..2147483647])).
dom('quick_sort', dim('beg'), [], int([100..4294967295])).
dom('quick_sort', dim('end'), [], int([100..4294967295])).
dom('quick_sort', cont('beg',_), [], int([-2147483648..2147483647])).
dom('pathcrawler__quick_sort_precond',A,B,C) :-
  dom('quick_sort',A,B,C).
create_input_vals('quick_sort', Ins):-
  create_input_val(dim('arr'), int([0..4294967295]),Ins),
  create_input_val('elements', int([0..3]),Ins),
  create_input_val(dim('beg'), int([100..4294967295]),Ins),
  create_input_val(dim('end'), int([100..4294967295]),Ins),
  true.
create_input_vals('pathcrawler__quick_sort_precond',Ins) :-
  create_input_vals('quick_sort',Ins).
quantif_preconds('quick_sort',
  [

  ]
).
quantif_preconds('pathcrawler__quick_sort_precond',A) :-
  quantif_preconds('quick_sort',A).
unquantif_preconds('quick_sort',
  [
    cond(egal,dim('arr'),+(int(math), -(int(math), 'elements', 1), 1),pre)
  ]
).
unquantif_preconds('pathcrawler__quick_sort_precond',A) :-
  unquantif_preconds('quick_sort',A).
strategy('quick_sort',[]).
strategy('pathcrawler__quick_sort_precond',A) :-
  strategy('quick_sort',A).
precondition_of('quick_sort','pathcrawler__quick_sort_precond').
[stady:generated-c] generated C file:
/* Generated by Frama-C */
struct __anonstruct___mpz_struct_1 {int _mp_alloc ;int _mp_size ;unsigned long *_mp_d ;};typedef struct __anonstruct___mpz_struct_1 __mpz_struct;typedef __mpz_struct mpz_t[1];
extern unsigned long int __gmpz_get_ui(mpz_t);
extern signed long int __gmpz_get_si(mpz_t);
extern int __gmpz_cmp_ui(mpz_t, unsigned long int);
extern int __gmpz_cmp(mpz_t, mpz_t);
extern void __gmpz_clear(mpz_t);
extern void __gmpz_init(mpz_t);
extern void __gmpz_init_set(mpz_t, mpz_t);
extern void __gmpz_init_set_si(mpz_t, signed long int);
extern void __gmpz_init_set_str(mpz_t, const char*, int);
extern void __gmpz_add(mpz_t, const mpz_t, const mpz_t);
extern void __gmpz_add_ui(mpz_t, const mpz_t, unsigned long int);
extern void __gmpz_sub(mpz_t, const mpz_t, const mpz_t);
extern int pathcrawler_assert_exception(char*,int);
extern void pathcrawler_to_framac(char*);
extern void* malloc(unsigned long);
extern void free(void*);
int quick_sort_precond(int *arr, int elements, int *beg, int *end)
{
  return 1;
}

/*@ requires 0 <= elements;
    requires \valid(arr+(0 .. elements-1));
    requires \valid(beg+(0 .. 99));
    requires \valid(end+(0 .. 99));
    ensures
      \forall integer i;
        0 <= i < \old(elements)-1 ==> *(\old(arr)+i) <= *(\old(arr)+(i+1));
    ensures \result == 0;
    typically elements <= 3;
 */
int quick_sort(int *arr, int elements, int *beg, int *end)
{
  int *old_arr;
  int *old_ptr_arr;
  old_arr = arr;
  mpz_t __stady_gmp_10;
  __gmpz_init_set_si(__stady_gmp_10,elements);
  unsigned long __stady_term_4;
  unsigned long __stady_term_5;
  __stady_term_5 = __gmpz_get_ui(__stady_gmp_10);
  old_ptr_arr = (int *)malloc(__stady_term_5 * (unsigned long)sizeof(int));
  __stady_term_5 = __gmpz_get_ui(__stady_gmp_10);
  __stady_term_4 = 0;
  while(__stady_term_4 < __stady_term_5) {
    *(old_ptr_arr + __stady_term_4) = *(arr + __stady_term_4);
    __stady_term_4 ++;
  }
  __gmpz_clear(__stady_gmp_10);
  int old_elements;
  old_elements = elements;
  int *old_beg;
  int *old_ptr_beg;
  old_beg = beg;
  mpz_t __stady_gmp_11;
  __gmpz_init_set_str(__stady_gmp_11,"99",10);
  mpz_t __stady_gmp_12;
  __gmpz_init_set_str(__stady_gmp_12,"1",10);
  mpz_t __stady_gmp_13;
  __gmpz_init(__stady_gmp_13);
  __gmpz_add(__stady_gmp_13,__stady_gmp_11,__stady_gmp_12);
  __gmpz_clear(__stady_gmp_11);
  __gmpz_clear(__stady_gmp_12);
  unsigned long __stady_term_6;
  unsigned long __stady_term_7;
  __stady_term_7 = __gmpz_get_ui(__stady_gmp_13);
  old_ptr_beg = (int *)malloc(__stady_term_7 * (unsigned long)sizeof(int));
  __stady_term_7 = __gmpz_get_ui(__stady_gmp_13);
  __stady_term_6 = 0;
  while(__stady_term_6 < __stady_term_7) {
    *(old_ptr_beg + __stady_term_6) = *(beg + __stady_term_6);
    __stady_term_6 ++;
  }
  __gmpz_clear(__stady_gmp_13);
  int *old_end;
  int *old_ptr_end;
  old_end = end;
  mpz_t __stady_gmp_14;
  __gmpz_init_set_str(__stady_gmp_14,"99",10);
  mpz_t __stady_gmp_15;
  __gmpz_init_set_str(__stady_gmp_15,"1",10);
  mpz_t __stady_gmp_16;
  __gmpz_init(__stady_gmp_16);
  __gmpz_add(__stady_gmp_16,__stady_gmp_14,__stady_gmp_15);
  __gmpz_clear(__stady_gmp_14);
  __gmpz_clear(__stady_gmp_15);
  unsigned long __stady_term_8;
  unsigned long __stady_term_9;
  __stady_term_9 = __gmpz_get_ui(__stady_gmp_16);
  old_ptr_end = (int *)malloc(__stady_term_9 * (unsigned long)sizeof(int));
  __stady_term_9 = __gmpz_get_ui(__stady_gmp_16);
  __stady_term_8 = 0;
  while(__stady_term_8 < __stady_term_9) {
    *(old_ptr_end + __stady_term_8) = *(end + __stady_term_8);
    __stady_term_8 ++;
  }
  __gmpz_clear(__stady_gmp_16);
  {
    int __retres;
    int piv;
    int i;
    int L;
    int R;
    i = 0;
    *(beg + 0) = 0;
    *(end + 0) = elements;
    while (1) {
      if (! (i >= 0)) {
                        pathcrawler_to_framac("@FC:REACHABLE_STMT:7");
                        break;
                      }L = *(beg + i);
                       R = *(end + i) - 1;
                       if (L < R) {
                         int tmp_1;
                         {
                           pathcrawler_to_framac("@FC:REACHABLE_STMT:13");
                           piv = *(arr + L);
                         }
                         if (i == 50 - 1) {
                           {
                             pathcrawler_to_framac("@FC:REACHABLE_STMT:16");
                             __retres = -1;
                           }
                           goto return_label;
                         }
                         {
                           if(! (L <= R)) {
                             pathcrawler_assert_exception("Loop invariant not established!",
                                                          3);
                           }
                           while (1) {
                             if (! (L < R)) {
                                              pathcrawler_to_framac("@FC:REACHABLE_STMT:21");
                                              break;
                                            }mpz_t __stady_gmp_31;
                             __gmpz_init_set_si(__stady_gmp_31,R);
                             mpz_t __stady_gmp_32;
                             __gmpz_init_set_si(__stady_gmp_32,L);
                             mpz_t __stady_gmp_33;
                             __gmpz_init(__stady_gmp_33);
                             __gmpz_sub(__stady_gmp_33,__stady_gmp_31,
                                        __stady_gmp_32);
                             __gmpz_clear(__stady_gmp_31);
                             __gmpz_clear(__stady_gmp_32);
                             int __stady_term_14;
                             __stady_term_14 = __gmpz_cmp_ui(__stady_gmp_33,
                                                             0);
                             if(__stady_term_14 < 0) {
                               pathcrawler_assert_exception("Variant non positive",
                                                            9);
                             }
                             mpz_t __stady_gmp_34;
                             __gmpz_init_set(__stady_gmp_34,__stady_gmp_33);
                             {
                               if(! (L <= R)) {
                                 pathcrawler_assert_exception("Loop invariant not established!",
                                                              1);
                               }
                               while (1) {
                                 if (*(arr + R) >= piv) {
                                   {
                                     pathcrawler_to_framac("@FC:REACHABLE_STMT:27");
                                     if (! (L < R)) {
                                                      pathcrawler_to_framac
                                                      ("@FC:REACHABLE_STMT:28");
                                                      break;
                                                    }
                                   }
                                 }
                                 else {
                                        pathcrawler_to_framac("@FC:REACHABLE_STMT:29");
                                        break;
                                      }mpz_t __stady_gmp_17;
                                 __gmpz_init_set_si(__stady_gmp_17,R);
                                 mpz_t __stady_gmp_18;
                                 __gmpz_init_set_si(__stady_gmp_18,L);
                                 mpz_t __stady_gmp_19;
                                 __gmpz_init(__stady_gmp_19);
                                 __gmpz_sub(__stady_gmp_19,__stady_gmp_17,
                                            __stady_gmp_18);
                                 __gmpz_clear(__stady_gmp_17);
                                 __gmpz_clear(__stady_gmp_18);
                                 int __stady_term_10;
                                 __stady_term_10 = __gmpz_cmp_ui(__stady_gmp_19,
                                                                 0);
                                 if(__stady_term_10 < 0) {
                                   pathcrawler_assert_exception("Variant non positive",
                                                                6);
                                 }
                                 mpz_t __stady_gmp_20;
                                 __gmpz_init_set(__stady_gmp_20,
                                                 __stady_gmp_19);
                                 R --;if(! (L <= R)) {
                                        pathcrawler_assert_exception("Loop invariant not preserved!",
                                                                    1);
                                 }
                                 mpz_t __stady_gmp_21;
                                 __gmpz_init_set_si(__stady_gmp_21,R);
                                 mpz_t __stady_gmp_22;
                                 __gmpz_init_set_si(__stady_gmp_22,L);
                                 mpz_t __stady_gmp_23;
                                 __gmpz_init(__stady_gmp_23);
                                 __gmpz_sub(__stady_gmp_23,__stady_gmp_21,
                                            __stady_gmp_22);
                                 __gmpz_clear(__stady_gmp_21);
                                 __gmpz_clear(__stady_gmp_22);
                                 int __stady_term_11;
                                 __stady_term_11 = __gmpz_cmp(__stady_gmp_23,
                                                              __stady_gmp_20);
                                 if(__stady_term_11 >= 0) {
                                   pathcrawler_assert_exception("Variant non decreasing",
                                                                6);
                                 }
                                 __gmpz_clear(__stady_gmp_20);
                                 }
                                  
                             }
                             if (L < R) {
                               int tmp;
                               {
                                 pathcrawler_to_framac("@FC:REACHABLE_STMT:33");
                                 {
                                   tmp = L;
                                   L ++;
                                   *(arr + tmp) = *(arr + R);
                                 }
                               }
                             }
                             {
                               if(! (L <= R)) {
                                 pathcrawler_assert_exception("Loop invariant not established!",
                                                              10);
                               }
                               while (1) {
                                 if (*(arr + L) <= piv) {
                                   {
                                     pathcrawler_to_framac("@FC:REACHABLE_STMT:42");
                                     if (! (L < R)) {
                                                      pathcrawler_to_framac
                                                      ("@FC:REACHABLE_STMT:43");
                                                      break;
                                                    }
                                   }
                                 }
                                 else {
                                        pathcrawler_to_framac("@FC:REACHABLE_STMT:44");
                                        break;
                                      }mpz_t __stady_gmp_24;
                                 __gmpz_init_set_si(__stady_gmp_24,R);
                                 mpz_t __stady_gmp_25;
                                 __gmpz_init_set_si(__stady_gmp_25,L);
                                 mpz_t __stady_gmp_26;
                                 __gmpz_init(__stady_gmp_26);
                                 __gmpz_sub(__stady_gmp_26,__stady_gmp_24,
                                            __stady_gmp_25);
                                 __gmpz_clear(__stady_gmp_24);
                                 __gmpz_clear(__stady_gmp_25);
                                 int __stady_term_12;
                                 __stady_term_12 = __gmpz_cmp_ui(__stady_gmp_26,
                                                                 0);
                                 if(__stady_term_12 < 0) {
                                   pathcrawler_assert_exception("Variant non positive",
                                                                8);
                                 }
                                 mpz_t __stady_gmp_27;
                                 __gmpz_init_set(__stady_gmp_27,
                                                 __stady_gmp_26);
                                 L ++;if(! (L <= R)) {
                                        pathcrawler_assert_exception("Loop invariant not preserved!",
                                                                    10);
                                 }
                                 mpz_t __stady_gmp_28;
                                 __gmpz_init_set_si(__stady_gmp_28,R);
                                 mpz_t __stady_gmp_29;
                                 __gmpz_init_set_si(__stady_gmp_29,L);
                                 mpz_t __stady_gmp_30;
                                 __gmpz_init(__stady_gmp_30);
                                 __gmpz_sub(__stady_gmp_30,__stady_gmp_28,
                                            __stady_gmp_29);
                                 __gmpz_clear(__stady_gmp_28);
                                 __gmpz_clear(__stady_gmp_29);
                                 int __stady_term_13;
                                 __stady_term_13 = __gmpz_cmp(__stady_gmp_30,
                                                              __stady_gmp_27);
                                 if(__stady_term_13 >= 0) {
                                   pathcrawler_assert_exception("Variant non decreasing",
                                                                8);
                                 }
                                 __gmpz_clear(__stady_gmp_27);
                                 }
                                  
                             }
                             if (L < R) {
                               int tmp_0;
                               {
                                 pathcrawler_to_framac("@FC:REACHABLE_STMT:48");
                                 {
                                   tmp_0 = R;
                                   R --;
                                   *(arr + tmp_0) = *(arr + L);
                                 }
                               }
                             }if(! (L <= R)) {
                                pathcrawler_assert_exception("Loop invariant not preserved!",
                                                             3);
                             }
                             mpz_t __stady_gmp_35;
                             __gmpz_init_set_si(__stady_gmp_35,R);
                             mpz_t __stady_gmp_36;
                             __gmpz_init_set_si(__stady_gmp_36,L);
                             mpz_t __stady_gmp_37;
                             __gmpz_init(__stady_gmp_37);
                             __gmpz_sub(__stady_gmp_37,__stady_gmp_35,
                                        __stady_gmp_36);
                             __gmpz_clear(__stady_gmp_35);
                             __gmpz_clear(__stady_gmp_36);
                             int __stady_term_15;
                             __stady_term_15 = __gmpz_cmp(__stady_gmp_37,
                                                          __stady_gmp_34);
                             if(__stady_term_15 >= 0) {
                               pathcrawler_assert_exception("Variant non decreasing",
                                                            9);
                             }
                             __gmpz_clear(__stady_gmp_34);
                             }
                              
                         }
                         *(arr + L) = piv;
                         *(beg + (i + 1)) = L + 1;
                         *(end + (i + 1)) = *(end + i);
                         {
                           tmp_1 = i;
                           i ++;
                           *(end + tmp_1) = L;
                         }
                       }
                       else {
                              pathcrawler_to_framac("@FC:REACHABLE_STMT:60");
                              i --;
                            }}
       
    __retres = 0;
    return_label:
      {
        int __stady_pred_0;
        __stady_pred_0 = 1;
        {
          mpz_t __q_i;
          mpz_t __stady_gmp_0;
          __gmpz_init_set_str(__stady_gmp_0,"0",10);
          mpz_t __stady_gmp_1;
          __gmpz_init_set_si(__stady_gmp_1,old_elements);
          mpz_t __stady_gmp_2;
          __gmpz_init_set_str(__stady_gmp_2,"1",10);
          mpz_t __stady_gmp_3;
          __gmpz_init(__stady_gmp_3);
          __gmpz_sub(__stady_gmp_3,__stady_gmp_1,__stady_gmp_2);
          __gmpz_clear(__stady_gmp_1);
          __gmpz_clear(__stady_gmp_2);
          __gmpz_init_set(__q_i,__stady_gmp_0);
          int __stady_term_0;
          __stady_term_0 = __gmpz_cmp(__q_i,__stady_gmp_3);
          while(__stady_term_0 < 0 && __stady_pred_0) {
            mpz_t __stady_gmp_4;
            __gmpz_init_set(__stady_gmp_4,__q_i);
            int __stady_term_1;
            __stady_term_1 = (int)__gmpz_get_si(__stady_gmp_4);
            __gmpz_clear(__stady_gmp_4);
            mpz_t __stady_gmp_5;
            __gmpz_init_set(__stady_gmp_5,__q_i);
            mpz_t __stady_gmp_6;
            __gmpz_init_set_str(__stady_gmp_6,"1",10);
            mpz_t __stady_gmp_7;
            __gmpz_init(__stady_gmp_7);
            __gmpz_add(__stady_gmp_7,__stady_gmp_5,__stady_gmp_6);
            __gmpz_clear(__stady_gmp_5);
            __gmpz_clear(__stady_gmp_6);
            int __stady_term_2;
            __stady_term_2 = (int)__gmpz_get_si(__stady_gmp_7);
            __gmpz_clear(__stady_gmp_7);
            __stady_pred_0 = *(old_arr + __stady_term_1) <= *(old_arr + __stady_term_2);
            __gmpz_add_ui(__q_i,__q_i,1);
            __stady_term_0 = __gmpz_cmp(__q_i,__stady_gmp_3);
          }
          __gmpz_clear(__q_i);
          __gmpz_clear(__stady_gmp_0);
          __gmpz_clear(__stady_gmp_3);
        }
        if(! __stady_pred_0) {
          pathcrawler_assert_exception("Post-condition!",11);
        }
        mpz_t __stady_gmp_8;
        __gmpz_init_set_si(__stady_gmp_8,__retres);
        mpz_t __stady_gmp_9;
        __gmpz_init_set_str(__stady_gmp_9,"0",10);
        int __stady_term_3;
        __stady_term_3 = __gmpz_cmp(__stady_gmp_8,__stady_gmp_9);
        __gmpz_clear(__stady_gmp_8);
        __gmpz_clear(__stady_gmp_9);
        if(! (__stady_term_3 == 0)) {
          pathcrawler_assert_exception("Post-condition!",12);
        }
      }
      free(old_ptr_arr);
      free(old_ptr_beg);
      free(old_ptr_end);
      return __retres;
  }
}


[kernel] Parsing FRAMAC_SHARE/libc/__fc_builtin_for_normalization.i (no preprocessing)
[kernel] Parsing __sd_instru_quick_sort_quick_sort.c (with preprocessing)
[kernel] Parsing FRAMAC_SHARE/libc/__fc_builtin_for_normalization.i (no preprocessing)
[kernel] Parsing __sd_instru_quick_sort_quick_sort.c (with preprocessing)
[pc] analyzing...
[pc] Compiling pathcrawler___sd_instru_quick_sort_quick_sort/lanceur_quick_sort utilities ...
[pc] Compiling pathcrawler___sd_instru_quick_sort_quick_sort/lanceur_quick_sort ...
[pc] generating tests...
[pc] Starting lanceur_quick_sort (isc version)
[pc] Starting lanceur_pathcrawler__quick_sort_precond (isc version)
[pc] generation finished
[stady] all-paths: true
[stady] 1079 test cases
[report] Computing properties status...

--------------------------------------------------------------------------------
--- Properties of Function 'quick_sort'
--------------------------------------------------------------------------------

[ Partial ] Post-condition (file tests/quick_sort/quick_sort.c, line 13)
            By StaDy, with pending:
             - Pre-condition (file tests/quick_sort/quick_sort.c, line 12)
[ Partial ] Post-condition (file tests/quick_sort/quick_sort.c, line 14)
            By StaDy, with pending:
             - Pre-condition (file tests/quick_sort/quick_sort.c, line 12)
[ Partial ] Loop variant at loop (file tests/quick_sort/quick_sort.c, line 33)
            By StaDy, with pending:
             - Pre-condition (file tests/quick_sort/quick_sort.c, line 12)
[ Partial ] Loop variant at loop (file tests/quick_sort/quick_sort.c, line 37)
            By StaDy, with pending:
             - Pre-condition (file tests/quick_sort/quick_sort.c, line 12)
[ Partial ] Loop variant at loop (file tests/quick_sort/quick_sort.c, line 44)
            By StaDy, with pending:
             - Pre-condition (file tests/quick_sort/quick_sort.c, line 12)
[ Partial ] Invariant (file tests/quick_sort/quick_sort.c, line 30)
            By StaDy, with pending:
             - Pre-condition (file tests/quick_sort/quick_sort.c, line 12)
[ Partial ] Invariant (file tests/quick_sort/quick_sort.c, line 34)
            By StaDy, with pending:
             - Pre-condition (file tests/quick_sort/quick_sort.c, line 12)
[ Partial ] Invariant (file tests/quick_sort/quick_sort.c, line 41)
            By StaDy, with pending:
             - Pre-condition (file tests/quick_sort/quick_sort.c, line 12)
[ Partial ] Default behavior
            By Frama-C kernel, with pending:
             - Pre-condition (file tests/quick_sort/quick_sort.c, line 12)

--------------------------------------------------------------------------------
--- Status Report Summary
--------------------------------------------------------------------------------
     9 Locally validated
     9 Total
--------------------------------------------------------------------------------
